<section class="panel">
  <h1>Profile</h1>

  <% if @user.errors.any? %>
    <div class="flash flash-alert">
      <%= @user.errors.full_messages.to_sentence %>
    </div>
  <% end %>

  <%= form_with model: @user, url: profile_path, method: :patch, local: true, class: "form-grid" do |f| %>
    <div>
      <%= f.label :handle, "Username" %>
      <%= f.text_field :handle, class: "input", required: true %>
    </div>
    <div>
      <%= f.label :mic_mode, "Mic mode" %>
      <%= f.select :mic_mode, User.mic_modes.keys, {}, class: "input" %>
    </div>
    <div>
      <%= f.label :chat_color, "Chat color" %>
      <%= f.select :chat_color, User::CHAT_COLORS.map { |color| [color.tr("_", " ").titleize, color] }, {}, class: "input" %>
    </div>
    <div class="actions">
      <%= f.submit "Save", class: "button" %>
    </div>
  <% end %>
</section>
